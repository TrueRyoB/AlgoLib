vector<int> p[N]; for(int i=0; i<N; ++i) p[i] = i;
do {
  for(int i=0; i<N; ++i) {
    int a=p[i], b=p[(i+1)%N];
    //continue...
  }
  //continue...
}while(next_permutation(p.begin(), p.end());
